# =============================================================================
# Ontologie G√©n√©rique (General Purpose Knowledge Base)
# =============================================================================
# Ontologie universelle pour tout document ne rentrant pas dans les ontologies
# sp√©cialis√©es (legal, cloud_products, presales, technical, managed-services).
# Optimis√©e pour : FAQs, r√©f√©rentiels, certifications, RSE, specs produits,
# knowledge bases, RFI/RFP, indicateurs, r√©f√©rences clients.

name: general
version: "1.1"
description: |
  Ontologie g√©n√©rique pour l'extraction d'informations depuis tout type de document
  professionnel : FAQ, r√©f√©rentiels normatifs, fiches produits partenaires,
  bilans RSE, knowledge bases Q&A, indicateurs de performance.
  
  Con√ßue comme filet de s√©curit√© intelligent : types larges mais significatifs,
  mappings stricts pour √©viter les entit√©s "Other".

context: |
  Tu es un expert en extraction de connaissances pour des documents professionnels vari√©s.
  Tu dois identifier les entit√©s cl√©s et leurs relations dans des documents h√©t√©rog√®nes :
  FAQs, r√©f√©rentiels, certifications, bilans environnementaux, specs techniques, etc.

  ‚ö†Ô∏è R√àGLES CRITIQUES D'EXTRACTION :

  1. QUESTIONS & R√âPONSES : Si le document est structur√© en Q&A ou FAQ,
     extrais chaque question comme une entit√© Question et sa r√©ponse comme Answer.
     Lie-les TOUJOURS avec la relation ANSWERS.

  2. PR√âCISION DES VALEURS : Extrais les m√©triques exactes avec unit√©s.
     ‚úÖ Bon : "99.99%", "2 133 tCO2e", "0.9‚Ç¨/million tokens", "42 Gbps"
     ‚ùå Mauvais : "haute disponibilit√©", "faible empreinte carbone"

  3. INDICATEURS & CIBLES : Pour les KPI, extrais TOUJOURS la valeur actuelle
     ET l'objectif si disponible. Int√®gre les deux dans le nom de l'entit√©.
     Ex: "NPS 42 (2024, objectif 50 en 2025)" et non "NPS" seul.

  4. R√âF√âRENCES CLIENTS : Int√®gre budget, dur√©e et secteur dans le nom.
     Ex: "Acme Corp (2.5M‚Ç¨/an, 10 ans, Industrie/√ânergie)" et non "Acme Corp" seul.

  5. SPECS PRODUITS : Pour les matrices de produits (Fortinet, serveurs, etc.),
     chaque mod√®le est un ProductModel avec ses Specifications.
     Ne cr√©e PAS une entit√© par valeur technique isol√©e.

  6. COUVERTURE FAQ : Si une r√©ponse indique "Disponible: Oui/Non" et
     "Couverture: Int√©gralement/Partiellement", int√®gre ces infos dans l'Answer.

# =============================================================================
# TYPES D'ENTIT√âS (28 types, 5 familles)
# =============================================================================
entity_types:

  # ---------------------------------------------------------------------------
  # üìö FAMILLE 1 : CONNAISSANCE & CONTENU
  # ---------------------------------------------------------------------------
  - name: Topic
    description: Sujet, th√®me ou domaine de connaissance
    examples:
      - "R√©seau (section 2.1.1)"
      - "Stockage objet (section 2.1.2)"
      - "Gestion des identit√©s et acc√®s"
      - "Impact environnemental"
      - "Quantisation des LLM"

  - name: Question
    description: Question pos√©e, exigence formul√©e ou point d'interrogation
    priority: high
    examples:
      - "Pilotage des √©quipements r√©seaux : segmentation ?"
      - "Date de la qualification SNC (obtenue ou estim√©e) ?"
      - "Quel mod√®le Fortinet pour 100k sessions ?"
      - "Quelle est la relation entre ATOS et Cloud Temple ?"

  - name: Answer
    description: R√©ponse structur√©e √† une question (inclut disponibilit√© et couverture si FAQ)
    priority: high
    examples:
      - "Disponible: Oui, Int√©gralement ‚Äî Segmentation via VLANs Console Shiva"
      - "Non disponible ‚Äî Security groups non natifs, filtrage via firewalls d√©di√©s"
      - "Cloud Temple est une filiale du groupe NEURONES, pas d'ATOS"

  - name: Definition
    description: Explication formelle d'un terme, concept ou technologie
    examples:
      - "tCO2e : tonne √©quivalent CO2 (unit√© standardis√©e)"
      - "Quantisation : r√©duction de la pr√©cision des poids d'un LLM"
      - "PUE : Power Usage Effectiveness (efficacit√© √©nerg√©tique DC)"

  - name: Fact
    description: Affirmation factuelle v√©rifiable avec une valeur pr√©cise
    examples:
      - "Qualification SecNumCloud obtenue le 30/05/2025"
      - "Compatibilit√© API S3 √† 97%"
      - "Backbone inter-AZ : 2x100 Gbps"

  # ---------------------------------------------------------------------------
  # üè¢ FAMILLE 2 : ORGANISATIONS & ACTEURS
  # ---------------------------------------------------------------------------
  - name: Organization
    description: Entreprise, agence, institution ou organisme
    examples:
      - "Cloud Temple"
      - "Groupe NEURONES"
      - "ANSSI"
      - "Bpifrance"
      - "ADEME"
      - "Fortinet"

  - name: Person
    description: Personne physique nomm√©e
    examples:
      - "Jean Dupont (Directeur Technique)"

  - name: ClientReference
    description: R√©f√©rence client avec contexte (secteur, budget, dur√©e, p√©rim√®tre)
    priority: high
    examples:
      - "Groupe Agralis (Agroalimentaire, 1.5M‚Ç¨/an, 800 VM)"
      - "FinR√©gul (R√©gulateur financier, 1.2M‚Ç¨/an, 500 VM)"
      - "AquaNova (Environnement, 2.5M‚Ç¨/an, 200+ VM, 10 ans, NIS2)"
      - "Agence Sant√© ‚Äî SI Urgences (Sant√©, 600k‚Ç¨/an)"

  - name: Partner
    description: Partenaire technologique, commercial ou int√©grateur
    examples:
      - "AlphaTech (partenaire sur appels d'offres publics)"
      - "CyberSec Partners (CERT qualifi√© ANSSI)"
      - "DefenseTech (partenariat d√©fense/sant√©)"
      - "AuditConseil (conformit√© HDS)"

  - name: Stakeholder
    description: Partie prenante identifi√©e dans une analyse de mat√©rialit√©, un bilan RSE ou une cartographie des acteurs
    examples:
      - "Stakeholder ‚Äì Collaborateurs (Salari√©s, 2024)"
      - "Stakeholder ‚Äì Clients utilisateurs produits (Clients, 2024)"
      - "Stakeholder ‚Äì H√©bergeurs (Infrastructure, 2024)"
      - "Stakeholder ‚Äì Communaut√©s (Soci√©t√© civile, 2024)"
      - "Stakeholder ‚Äì Nature (Environnement, 2024)"

  # ---------------------------------------------------------------------------
  # ‚öôÔ∏è FAMILLE 3 : PRODUITS & TECHNOLOGIE
  # ---------------------------------------------------------------------------
  - name: Product
    description: Service, offre ou solution commercialis√©e
    priority: high
    examples:
      - "IaaS VMware"
      - "LLMaaS (LLM as a Service)"
      - "Managed Kubernetes"
      - "Object Storage S3"
      - "SOC manag√© 24/7"
      - "Bare Metal (pour Oracle/SAP)"

  - name: ProductModel
    description: Mod√®le ou SKU sp√©cifique avec ses caract√©ristiques (mat√©riel, appliance, config)
    priority: high
    examples:
      - "FortiGate FG-900G (164 Gbps FW, 55G IPsec, 16M sessions)"
      - "FortiGate FG-100F (20 Gbps FW, 1.5M sessions, 1RU)"
      - "Cisco UCS B200 M5 (lame compute)"
      - "Thales Luna S790 (HSM FIPS 140-3 L3)"

  - name: Technology
    description: Technologie, logiciel, protocole ou standard technique
    examples:
      - "VMware vSphere"
      - "Red Hat OpenShift"
      - "Fortinet FortiGate"
      - "IBM FlashSystem"
      - "Terraform"
      - "Kubernetes"
      - "Stormshield (qualifi√© ANSSI)"

  - name: Specification
    description: Valeur technique pr√©cise avec unit√©
    examples:
      - "Firewall 164 Gbps (1518B)"
      - "16 millions sessions concurrentes"
      - "Latence 3.78 Œºs"
      - "25 Gbps par lame"
      - "Bande passante 95√®me percentile"

  - name: PricingInfo
    description: Tarif, mod√®le de facturation ou structure de co√ªt
    examples:
      - "0.9‚Ç¨/million tokens en entr√©e (LLMaaS)"
      - "4‚Ç¨/million tokens en sortie"
      - "0.03‚Ç¨ HT/Gio/mois (stockage objet)"
      - "Facturation au 95√®me percentile (bande passante)"
      - "Pas de frais d'√©gr√®s"

  # ---------------------------------------------------------------------------
  # üõ°Ô∏è FAMILLE 4 : CONFORMIT√â & ENGAGEMENTS
  # ---------------------------------------------------------------------------
  - name: Certification
    description: Norme, label, qualification ou certification officielle
    priority: high
    examples:
      - "SecNumCloud v3.2 (ANSSI, 30/05/2025)"
      - "ISO 27001:2022 (Certi-Trust, 16/12/2027)"
      - "HDS activit√©s 2 √† 6 (Certi-Trust, 16/12/2027)"
      - "ISAE 3402 Type II"
      - "C5 (Naolys Audit, 31/05/2026)"

  - name: Regulation
    description: Loi, directive, r√©f√©rentiel r√©glementaire
    examples:
      - "NIS2 (Directive EU 2022/2555)"
      - "DORA (R√®glement EU 2022/2554)"
      - "RGPD"
      - "R√©f√©rentiel SecNumCloud v3.2"
      - "R√©f√©rentiel HDS"

  - name: Requirement
    description: Exigence, besoin ou contrainte (client, r√©glementaire ou technique)
    examples:
      - "Localisation des donn√©es en France"
      - "H√©bergement de donn√©es de sant√©"
      - "PRA avec RPO z√©ro"
      - "Filtrage r√©seau Est-Ouest"

  - name: SLA
    description: Engagement de niveau de service chiffr√©
    examples:
      - "Disponibilit√© 99.99%"
      - "GTI 15 minutes"
      - "GTR 4 heures"
      - "Support 24/7 en option"

  - name: LegalProvision
    description: Article de loi, consid√©rant, disposition, amendement ou annexe d'un texte r√©glementaire
    priority: high
    examples:
      - "Article 21 ‚Äì Mesures de gestion des risques cybers√©curit√© (NIS2)"
      - "Article 17 ‚Äì Processus de gestion des incidents TIC (DORA)"
      - "Article 32 ‚Äì Mesures de supervision des entit√©s essentielles"
      - "Consid√©rant 45 ‚Äì Principe de proportionnalit√©"
      - "Annexe I ‚Äì Secteurs hautement critiques (NIS2)"

  - name: Sector
    description: Secteur ou sous-secteur d'activit√© r√©glement√© (annexes NIS2, DORA, NACE)
    examples:
      - "Secteur √ânergie (critique, Annexe I NIS2)"
      - "Subsecteur √âlectricit√© (gestionnaires de r√©seaux, producteurs)"
      - "Secteur Infrastructure num√©rique (DNS, registres, IXP)"
      - "Secteur Bancaire (√©tablissements de cr√©dit)"
      - "Secteur fabrication de dispositifs m√©dicaux (NACE)"

  - name: Sanction
    description: Sanction administrative, amende, astreinte, mesure d'ex√©cution ou p√©nalit√© r√©glementaire
    examples:
      - "Amende administrative ‚Äì Min 10M‚Ç¨ ou 2% CA mondial (entit√©s essentielles NIS2)"
      - "Amende administrative ‚Äì Min 7M‚Ç¨ ou 1.4% CA mondial (entit√©s importantes NIS2)"
      - "Astreinte ‚Äì Max 1% CA quotidien mondial pendant 6 mois (DORA)"
      - "Suspension temporaire d'une certification ou autorisation"
      - "Interdiction temporaire d'exercice de fonctions de direction"

  # ---------------------------------------------------------------------------
  # üìä FAMILLE 5 : INDICATEURS & STRAT√âGIE
  # ---------------------------------------------------------------------------
  - name: KPI
    description: Indicateur de performance mesurable avec valeur et objectif
    priority: high
    examples:
      - "NPS 42 (2024, objectif 50 en 2025)"
      - "PUE < 1.45"
      - "√âmissions GES 2133 tCO2e (2023)"
      - "Intensit√© carbone 47 kg CO2e/k‚Ç¨ CA"
      - "√âgalit√© HF 89% (2024, objectif 90% en 2025)"
      - "Collaborateurs sensibilis√©s NR 79% (objectif 100%)"

  - name: Target
    description: Objectif chiffr√© avec √©ch√©ance
    examples:
      - "‚àí41% √©missions relatives d'ici 2030"
      - "‚àí30% GES par euro d√©pens√©"
      - "Net-zero scope 1/2 ‚àí90% d'ici 2050 (SBTi)"
      - "Parit√© HF management (ratio = 1)"
      - "75% valorisation fin de vie DC (2025)"

  - name: Action
    description: Mesure, initiative ou plan d'action concret
    examples:
      - "√âco-conditions dans la politique d'achats"
      - "Allongement dur√©e de vie serveurs (3‚Üí7 ans)"
      - "Remplacement flotte v√©hicules √©lectriques"
      - "Sensibilisation fresque du climat"
      - "Migration SAP S4/HANA sur Cloud de confiance"

  - name: Evidence
    description: Preuve formelle, rapport, attestation ou document source
    examples:
      - "D√©cision ANSSI N¬∞ 918/ANSSI/SDE/NP"
      - "Rapport Diag D√©carbon'Action (Bpifrance, 12/2024)"
      - "Certificat ISO 27001 (Certi-Trust)"
      - "Attestation ISAE 3402 Type II (Guibert & Co)"

# =============================================================================
# TYPES DE RELATIONS (24 types, 6 familles)
# =============================================================================
relation_types:

  # ---------------------------------------------------------------------------
  # CONNAISSANCE
  # ---------------------------------------------------------------------------
  - name: ANSWERS
    description: Une r√©ponse couvre une question
    priority: high
    examples:
      - "R√©ponse segmentation VLANs ‚Üí ANSWERS ‚Üí Question pilotage r√©seau"

  - name: COVERS
    description: Un produit, une r√©ponse ou un document couvre un sujet
    examples:
      - "IaaS VMware ‚Üí COVERS ‚Üí Topic Stockage bloc"
      - "Answer chiffrement SSE ‚Üí COVERS ‚Üí Topic Stockage objet"

  - name: DEFINES
    description: Une d√©finition explique un terme
    examples:
      - "D√©finition tCO2e ‚Üí DEFINES ‚Üí √©missions GES"

  - name: PROVEN_BY
    description: Une affirmation est prouv√©e par un document source
    priority: high
    examples:
      - "Certification SecNumCloud ‚Üí PROVEN_BY ‚Üí D√©cision ANSSI N¬∞918"

  # ---------------------------------------------------------------------------
  # CAPACIT√â & CONFORMIT√â
  # ---------------------------------------------------------------------------
  - name: PROVIDES
    description: Une organisation fournit un produit ou service
    examples:
      - "Cloud Temple ‚Üí PROVIDES ‚Üí IaaS VMware"

  - name: HAS_CERTIFICATION
    description: Une entit√© poss√®de une certification
    priority: high
    examples:
      - "IaaS Secure Temple ‚Üí HAS_CERTIFICATION ‚Üí SecNumCloud v3.2"
      - "Cloud Temple ‚Üí HAS_CERTIFICATION ‚Üí ISO 27001:2022"

  - name: COMPLIANT_WITH
    description: Un service respecte une r√©glementation
    examples:
      - "Stockage objet ‚Üí COMPLIANT_WITH ‚Üí RGPD"

  - name: HAS_SLA
    description: Un produit est associ√© √† un engagement de service
    priority: high
    examples:
      - "IaaS VMware ‚Üí HAS_SLA ‚Üí Disponibilit√© 99.99%"

  - name: REQUIRES
    description: Une entit√© n√©cessite un pr√©requis
    examples:
      - "H√©bergement sant√© ‚Üí REQUIRES ‚Üí Certification HDS"

  # ---------------------------------------------------------------------------
  # TECHNIQUE & PRODUIT
  # ---------------------------------------------------------------------------
  - name: USES_TECHNOLOGY
    description: Un produit utilise une technologie
    examples:
      - "S√©curit√© r√©seau ‚Üí USES_TECHNOLOGY ‚Üí Fortinet FortiGate"

  - name: HAS_MODEL
    description: Un produit ou gamme inclut un mod√®le sp√©cifique
    examples:
      - "FortiGate ‚Üí HAS_MODEL ‚Üí FG-900G (164 Gbps)"

  - name: HAS_SPEC
    description: Un mod√®le poss√®de une sp√©cification technique
    examples:
      - "FG-900G ‚Üí HAS_SPEC ‚Üí 16M sessions concurrentes"

  - name: PRICED_AT
    description: Un produit a un tarif
    examples:
      - "LLMaaS ‚Üí PRICED_AT ‚Üí 0.9‚Ç¨/M tokens entr√©e"

  - name: INTEGRATES_WITH
    description: Un produit s'int√®gre avec un autre
    examples:
      - "Console Shiva ‚Üí INTEGRATES_WITH ‚Üí Terraform"

  # ---------------------------------------------------------------------------
  # R√âF√âRENCES & ACTEURS
  # ---------------------------------------------------------------------------
  - name: DEPLOYED_FOR
    description: Un produit/solution a √©t√© d√©ploy√© pour un client
    priority: high
    examples:
      - "Cloud SecNumCloud ‚Üí DEPLOYED_FOR ‚Üí FinR√©gul (500 VM, 1.2M‚Ç¨/an)"

  - name: PARTNERED_WITH
    description: Une organisation a un partenariat avec une autre
    examples:
      - "Cloud Temple ‚Üí PARTNERED_WITH ‚Üí AlphaTech"

  # ---------------------------------------------------------------------------
  # STRAT√âGIE & INDICATEURS
  # ---------------------------------------------------------------------------
  - name: MEASURED_BY
    description: Une entit√© est mesur√©e par un indicateur
    examples:
      - "Efficacit√© √©nerg√©tique DC ‚Üí MEASURED_BY ‚Üí PUE < 1.45"

  - name: TARGETS
    description: Un KPI ou une action vise un objectif
    examples:
      - "Plan d√©carbonation ‚Üí TARGETS ‚Üí ‚àí41% √©missions 2030"

  - name: ADDRESSES
    description: Une action traite un enjeu ou risque
    examples:
      - "Allongement dur√©e vie serveurs ‚Üí ADDRESSES ‚Üí Empreinte carbone immobilisations"

  # ---------------------------------------------------------------------------
  # STRUCTURE
  # ---------------------------------------------------------------------------
  - name: PART_OF
    description: Une entit√© fait partie d'un ensemble
    examples:
      - "Stockage objet ‚Üí PART_OF ‚Üí Topic Fonctionnalit√©s attendues"

  - name: RELATED_TO
    description: Relation g√©n√©rique (dernier recours)
    examples:
      - "Concept A ‚Üí RELATED_TO ‚Üí Concept B"

  - name: SUPERSEDES
    description: Une version remplace une pr√©c√©dente
    examples:
      - "SecNumCloud v3.2 ‚Üí SUPERSEDES ‚Üí SecNumCloud v3.1"

  # ---------------------------------------------------------------------------
  # R√âGLEMENTAIRE
  # ---------------------------------------------------------------------------
  - name: APPLIES_TO
    description: Un texte r√©glementaire ou une disposition s'applique √† un secteur ou une cat√©gorie d'entit√©s
    examples:
      - "NIS2 ‚Üí APPLIES_TO ‚Üí Secteur Infrastructure num√©rique"
      - "DORA ‚Üí APPLIES_TO ‚Üí Entit√© financi√®re"

  - name: IMPOSES
    description: Une r√©glementation ou autorit√© impose une sanction ou une obligation
    examples:
      - "NIS2 Article 34 ‚Üí IMPOSES ‚Üí Amende administrative 10M‚Ç¨"
      - "DORA Article 35 ‚Üí IMPOSES ‚Üí Astreinte 1% CA quotidien"

# =============================================================================
# R√àGLES D'EXTRACTION
# =============================================================================
extraction_rules:
  max_entities: 60
  max_relations: 80

  priority_entities:
    - Question
    - Answer
    - Product
    - ProductModel
    - Certification
    - ClientReference
    - KPI
    - SLA
    - LegalProvision
    - Sanction

  special_instructions: |
    # --- R√àGLES POUR LES FAQ / Q&A ---
    - Si le document est structur√© en sections Q&A, chaque question = une entit√© Question
      et chaque r√©ponse = une entit√© Answer, li√©es par ANSWERS.
    - Int√®gre "Disponible: Oui/Non" et "Couverture: Int√©gralement/Partiellement" 
      dans le nom de l'Answer (ex: "Oui, Int√©gralement ‚Äî Segmentation via VLANs").
    - NE PAS cr√©er une entit√© par section de FAQ. Cr√©e des Questions individuelles.

    # --- R√àGLES POUR LES R√âF√âRENCES CLIENTS ---
    - Int√®gre TOUJOURS budget annuel, nombre de VM, dur√©e de relation et secteur
      dans le nom de l'entit√© ClientReference.
      ‚úÖ "FinR√©gul (R√©gulateur, 1.2M‚Ç¨/an, 500 VM)"
      ‚ùå "FinR√©gul" seul + entit√© "Budget 1.2M‚Ç¨" s√©par√©e

    # --- R√àGLES POUR LES SPECS PRODUITS (Fortinet, serveurs, etc.) ---
    - Chaque mod√®le distinct = une entit√© ProductModel.
    - Les specs cl√©s (d√©bit, sessions, latence, interfaces) = entit√©s Specification
      li√©es par HAS_SPEC.
    - NE PAS cr√©er une entit√© par ligne de tableau. Regroupe par mod√®le.

    # --- R√àGLES POUR LES INDICATEURS RSE ---
    - Un KPI doit TOUJOURS contenir : nom + valeur + ann√©e + objectif si dispo.
      ‚úÖ "NPS 42 (2024, objectif 50 en 2025)"
      ‚ùå "NPS" seul
    - Les plans d'action RSE = entit√©s Action, li√©es aux Target via TARGETS.

    # --- MAPPINGS OBLIGATOIRES (anti-"Other") ---

    - ‚ö†Ô∏è Les montants (budget, prix, valeur contrat, chiffre d'affaires) doivent √™tre
      INT√âGR√âS dans ClientReference, PricingInfo ou KPI. Ne cr√©e JAMAIS de type
      "MonetaryAmount", "Amount", "Budget" ou "Revenue".

    - ‚ö†Ô∏è Les dur√©es (contrat, projet, engagement, validit√©) doivent √™tre INT√âGR√âES
      dans le nom de l'entit√© associ√©e (ClientReference, Certification, SLA).
      Ne cr√©e JAMAIS de type "Duration", "Period" ou "Timeframe".

    - ‚ö†Ô∏è Les dates (obtention, expiration, publication) doivent √™tre INT√âGR√âES
      dans le nom de l'entit√©. Ex: "SecNumCloud v3.2 (30/05/2025, valide 30/05/2028)".
      Ne cr√©e JAMAIS de type "Date" ou "Timestamp".

    - ‚ö†Ô∏è Les pourcentages et scores isol√©s doivent √™tre int√©gr√©s dans KPI ou SLA.
      Ne cr√©e JAMAIS de type "Percentage", "Score" ou "Metric" ‚Äî utilise KPI.

    - ‚ö†Ô∏è Les noms de sections, titres de documents ou en-t√™tes ne sont PAS des entit√©s.
      Ne cr√©e JAMAIS de type "Section", "Chapter" ou "DocumentTitle".

    - ‚ö†Ô∏è Les processus op√©rationnels (gestion incidents, MCO, infog√©rance) sont des Product.
      Ne cr√©e JAMAIS de type "Process" ou "Workflow".

    - ‚ö†Ô∏è Les profils types (SDM, architecte, ing√©nieur) sont des entit√©s Person
      uniquement s'ils sont nomm√©s, sinon IGNORER.
      Ne cr√©e JAMAIS de type "JobTitle" ou "Profile".

    - ‚ö†Ô∏è Les unit√©s de mesure seules (Gbps, IOPS, tCO2e, ‚Ç¨) ne sont PAS des entit√©s.
      Elles doivent √™tre int√©gr√©es dans Specification, KPI ou PricingInfo.

    # --- EXCLUSIONS ---
    - ‚ö†Ô∏è NE PAS extraire comme entit√©s :
      * Les mots isol√©s sans contexte ("S√©curit√©", "Performance", "R√©seau")
      * Les abr√©viations seules sans d√©finition ("HA", "DR", "NR")
      * Les num√©ros de section ("2.1.1", "Section 3.2")
      * Les formulations vagues ("haute disponibilit√©", "s√©curit√© renforc√©e")
      * Les param√®tres CLI ou variables d'environnement
      ‚Üí Ces √©l√©ments doivent √™tre IGNOR√âS ou int√©gr√©s comme attributs.

    # --- R√àGLES POUR LES TEXTES R√âGLEMENTAIRES (NIS2, DORA, SecNumCloud, HDS, PAMS) ---
    - Chaque article num√©rot√© d'un texte de loi/directive/r√®glement = LegalProvision.
      Inclure le num√©ro ET le titre dans le nom.
      ‚úÖ "Article 21 ‚Äì Mesures de gestion des risques cybers√©curit√© (NIS2)"
      ‚ùå "Article 21" seul
    - Les consid√©rants (Recital) = LegalProvision aussi.
    - Les annexes num√©rot√©es = LegalProvision ("Annexe I ‚Äì Secteurs hautement critiques").
    - Les secteurs et sous-secteurs des annexes r√©glementaires = Sector.
      ‚úÖ "Secteur √ânergie (critique, Annexe I NIS2)"
      ‚ùå "√ânergie" seul
    - Les sanctions (amendes, astreintes, suspensions, interdictions) = Sanction.
      Inclure TOUJOURS le montant/seuil si disponible.
      ‚úÖ "Amende administrative ‚Äì Min 10M‚Ç¨ ou 2% CA mondial (entit√©s essentielles NIS2)"
      ‚ùå "Amende administrative" seul

    # --- R√àGLES POUR LES RAPPORTS RSE / MAT√âRIALIT√â ---
    - Les parties prenantes des analyses de mat√©rialit√© = Stakeholder.
      ‚úÖ "Stakeholder ‚Äì H√©bergeurs (Infrastructure, 2024)"
      ‚ùå "H√©bergeurs" seul
    - Les impacts, risques et opportunit√©s RSE = KPI (inclure nature +/-, horizon).
    - Les r√©solutions d'assembl√©e g√©n√©rale = Action.
    - Les plans d'actions gratuites / rachats d'actions = Action.

    # --- MAPPINGS OBLIGATOIRES ADDITIONNELS (anti-"Other") ---

    - ‚ö†Ô∏è Les qualifications ANSSI (PAMS, PASSI, PDIS, PRIS, SecNumCloud) = Certification.
      Ne cr√©e JAMAIS de type "Qualification" ou "Acronym".

    - ‚ö†Ô∏è Les rapports officiels (ENISA, CSIRT, EU-CyCLONe, bilans RSE) = Evidence.
      Ne cr√©e JAMAIS de type "Report" ou "Publication".

    - ‚ö†Ô∏è Les zones de s√©curit√© (zone de confiance, zone d'interconnexion) = Topic.
      Ne cr√©e JAMAIS de type "Zone", "SecurityZone" ou "Component".

    - ‚ö†Ô∏è Les comit√©s (comit√© d'audit, comit√© √©thique, comit√© de groupe) = Organization.
      Ne cr√©e JAMAIS de type "Committee".

    - ‚ö†Ô∏è Les r√©unions du conseil, assembl√©es g√©n√©rales = Action.
      Ne cr√©e JAMAIS de type "Meeting", "Event" ou "Session".

    - ‚ö†Ô∏è Les r√¥les (RSSI, DPO) = Person uniquement si NOMM√âE, sinon IGNORER.
      Ne cr√©e JAMAIS de type "Role" ou "JobTitle".

    - ‚ö†Ô∏è Les acronymes seuls (DSCP, SMSI) = Definition.
      Ne cr√©e JAMAIS de type "Acronym".

    - ‚ö†Ô∏è Les guides et r√©f√©rentiels ANSSI (GUIDE_ACHAT, NT_ADMIN) = Evidence.

    - ‚ö†Ô∏è Les deadlines isol√©es doivent √™tre INT√âGR√âES dans LegalProvision ou Requirement.
      ‚úÖ "Article 41 ‚Äì Transposition (deadline 17/10/2024)"
      ‚ùå "Deadline 17 octobre 2024" comme entit√© s√©par√©e

    - ‚ö†Ô∏è Les dur√©es isol√©es (5 ans, 26 mois) = INT√âGR√âES dans l'entit√© parente.
      ‚ùå "Duration 5 years" comme entit√© s√©par√©e

    - ‚ö†Ô∏è Les fr√©quences (trimestriel, semestriel) = INT√âGR√âES dans Evidence.
      ‚úÖ "Rapport de synth√®se ENISA (trimestriel)"
      ‚ùå "Fr√©quence trimestrielle" comme entit√© s√©par√©e

    - ‚ö†Ô∏è Les limites financi√®res (plafonds, d√©cotes, seuils) = INT√âGR√âES dans Action.
      ‚ùå "Capacit√© maximale d'√©mission 9M‚Ç¨" comme entit√© s√©par√©e

    - ‚ö†Ô∏è Les status ("Non utilis√©e", "En cours") ne sont PAS des entit√©s. IGNORER.

    # --- QUALIT√â DES NOMS ---
    - Chaque entit√© doit avoir un nom descriptif et auto-suffisant.
      ‚úÖ "FortiGate FG-900G (164 Gbps FW, 16M sessions)"
      ‚ùå "FG-900G"
      ‚úÖ "SecNumCloud v3.2 (ANSSI, 30/05/2025)"
      ‚ùå "SecNumCloud"
      ‚úÖ "√âmissions GES 2133 tCO2e (FY2023, ‚àí41% objectif 2030)"
      ‚ùå "√âmissions GES"

# =============================================================================
# EXEMPLES D'EXTRACTION
# =============================================================================
examples:
  - context: "FAQ RFI ANSSI ‚Äî section R√©seau"
    input: |
      ## 2.1.1 R√©seau - Protection anti-DDoS
      **R√©ponse Cloud Temple :**
      - **Disponible :** Oui
      - **Couverture :** Int√©gralement
      - **D√©tails :** Protection DDoS volum√©trique incluse en standard,
        filtrage en amont par partenaires op√©rateurs.
    expected_entities:
      - {name: "Protection anti-DDoS disponible ?", type: "Question"}
      - {name: "Oui, Int√©gralement ‚Äî DDoS volum√©trique inclus, filtrage amont op√©rateurs", type: "Answer"}
      - {name: "R√©seau (section 2.1.1)", type: "Topic"}
      - {name: "Anti-DDoS (inclus dans connectivit√© Internet)", type: "Product"}
    expected_relations:
      - {from: "Oui, Int√©gralement ‚Äî DDoS volum√©trique", to: "Protection anti-DDoS disponible ?", type: "ANSWERS"}
      - {from: "Protection anti-DDoS disponible ?", to: "R√©seau (section 2.1.1)", type: "PART_OF"}
      - {from: "Anti-DDoS", to: "Cloud Temple", type: "PROVIDES"}

  - context: "R√©f√©rence client ‚Äî AquaNova"
    input: |
      Client : le groupe AquaNova
      Infrastructures : Cloud de confiance SecNumCloud, CMP Shiva, NIS2.
      Plus de 200 VM, co√ªt annuel 2,5 M‚Ç¨, confiance renouvel√©e depuis 10 ans.
    expected_entities:
      - {name: "AquaNova (Environnement, 2.5M‚Ç¨/an, 200+ VM, 10 ans, NIS2)", type: "ClientReference"}
      - {name: "Cloud de confiance SecNumCloud", type: "Product"}
      - {name: "Console CMP Shiva", type: "Technology"}
      - {name: "NIS2 (Directive EU 2022/2555)", type: "Regulation"}
    expected_relations:
      - {from: "Cloud de confiance SecNumCloud", to: "AquaNova", type: "DEPLOYED_FOR"}
      - {from: "AquaNova", to: "NIS2", type: "COMPLIANT_WITH"}

  - context: "Bilan RSE ‚Äî indicateurs"
    input: |
      √âmissions totales : 2 133 tCO2e (FY2023).
      Intensit√© carbone : 47 kg CO2e / k‚Ç¨ de CA.
      Objectif : ‚àí41% d'√©missions relatives d'ici 2030.
    expected_entities:
      - {name: "√âmissions GES 2133 tCO2e (FY2023)", type: "KPI"}
      - {name: "Intensit√© carbone 47 kg CO2e/k‚Ç¨ CA (FY2023)", type: "KPI"}
      - {name: "‚àí41% √©missions relatives d'ici 2030", type: "Target"}
    expected_relations:
      - {from: "√âmissions GES 2133 tCO2e", to: "‚àí41% √©missions relatives 2030", type: "TARGETS"}

  - context: "Article NIS2 ‚Äî Sanctions"
    input: |
      Article 34 ‚Äì Conditions g√©n√©rales pour imposer des amendes administratives.
      Les amendes pour les entit√©s essentielles s'√©l√®vent √† un minimum de
      10 000 000 EUR ou 2% du chiffre d'affaires annuel mondial.
      Les entit√©s importantes : minimum 7 000 000 EUR ou 1,4%.
      NIS2 s'applique aux secteurs hautement critiques (Annexe I) dont l'√ânergie.
    expected_entities:
      - {name: "Article 34 ‚Äì Conditions g√©n√©rales amendes administratives (NIS2)", type: "LegalProvision"}
      - {name: "Amende ‚Äì Min 10M‚Ç¨ ou 2% CA mondial (entit√©s essentielles NIS2)", type: "Sanction"}
      - {name: "Amende ‚Äì Min 7M‚Ç¨ ou 1.4% CA mondial (entit√©s importantes NIS2)", type: "Sanction"}
      - {name: "Secteur √ânergie (critique, Annexe I NIS2)", type: "Sector"}
    expected_relations:
      - {from: "Article 34 ‚Äì Conditions g√©n√©rales", to: "Amende ‚Äì Min 10M‚Ç¨", type: "IMPOSES"}
      - {from: "NIS2", to: "Secteur √ânergie", type: "APPLIES_TO"}
